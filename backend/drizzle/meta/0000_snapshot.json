{
  "id": "5a2cde22-cbff-4cd7-82d9-ec15aebc82e8",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.agencies": {
      "name": "agencies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "database_name": {
          "name": "database_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_plan": {
          "name": "subscription_plan",
          "type": "agency_tier",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'trial'"
        },
        "status": {
          "name": "status",
          "type": "agency_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "max_users": {
          "name": "max_users",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "max_storage_gb": {
          "name": "max_storage_gb",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "features": {
          "name": "features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "contact_email": {
          "name": "contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_phone": {
          "name": "contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_email": {
          "name": "billing_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tax_id": {
          "name": "tax_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_starts_at": {
          "name": "subscription_starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_ends_at": {
          "name": "subscription_ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "trial_ends_at": {
          "name": "trial_ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agencies_domain": {
          "name": "idx_agencies_domain",
          "columns": [
            {
              "expression": "domain",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"agencies\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agencies_database_name": {
          "name": "idx_agencies_database_name",
          "columns": [
            {
              "expression": "database_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"agencies\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agencies_owner_user_id": {
          "name": "idx_agencies_owner_user_id",
          "columns": [
            {
              "expression": "owner_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"agencies\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agencies_status": {
          "name": "idx_agencies_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"agencies\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agencies_subscription_plan": {
          "name": "idx_agencies_subscription_plan",
          "columns": [
            {
              "expression": "subscription_plan",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agencies_is_active": {
          "name": "idx_agencies_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"agencies\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agencies_created_at": {
          "name": "idx_agencies_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agencies_owner_user_id_users_id_fk": {
          "name": "agencies_owner_user_id_users_id_fk",
          "tableFrom": "agencies",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_verification_tokens": {
      "name": "email_verification_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token_hash": {
          "name": "token_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_email_verification_tokens_token_hash": {
          "name": "idx_email_verification_tokens_token_hash",
          "columns": [
            {
              "expression": "token_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"email_verification_tokens\".\"used_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_verification_tokens_user_id": {
          "name": "idx_email_verification_tokens_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"email_verification_tokens\".\"used_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_verification_tokens_expires_at": {
          "name": "idx_email_verification_tokens_expires_at",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"email_verification_tokens\".\"used_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_verification_tokens_user_id_users_id_fk": {
          "name": "email_verification_tokens_user_id_users_id_fk",
          "tableFrom": "email_verification_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.password_reset_tokens": {
      "name": "password_reset_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token_hash": {
          "name": "token_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_password_reset_tokens_token_hash": {
          "name": "idx_password_reset_tokens_token_hash",
          "columns": [
            {
              "expression": "token_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"password_reset_tokens\".\"used_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_password_reset_tokens_user_id": {
          "name": "idx_password_reset_tokens_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"password_reset_tokens\".\"used_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_password_reset_tokens_expires_at": {
          "name": "idx_password_reset_tokens_expires_at",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"password_reset_tokens\".\"used_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "password_reset_tokens_user_id_users_id_fk": {
          "name": "password_reset_tokens_user_id_users_id_fk",
          "tableFrom": "password_reset_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.profiles": {
      "name": "profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone_extension": {
          "name": "phone_extension",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "position": {
          "name": "position",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_code": {
          "name": "employee_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hire_date": {
          "name": "hire_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "personal_email": {
          "name": "personal_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "personal_email_verified": {
          "name": "personal_email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "personal_email_verified_at": {
          "name": "personal_email_verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'UTC'"
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "date_format": {
          "name": "date_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'YYYY-MM-DD'"
        },
        "time_format": {
          "name": "time_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'24h'"
        },
        "notification_preferences": {
          "name": "notification_preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "theme_preferences": {
          "name": "theme_preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "social_links": {
          "name": "social_links",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_profiles_user_id": {
          "name": "idx_profiles_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"profiles\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_profiles_agency_id": {
          "name": "idx_profiles_agency_id",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"profiles\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_profiles_employee_code": {
          "name": "idx_profiles_employee_code",
          "columns": [
            {
              "expression": "employee_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "employee_code IS NOT NULL AND deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_profiles_full_name": {
          "name": "idx_profiles_full_name",
          "columns": [
            {
              "expression": "full_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"profiles\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_profiles_is_active": {
          "name": "idx_profiles_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"profiles\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "profiles_user_id_users_id_fk": {
          "name": "profiles_user_id_users_id_fk",
          "tableFrom": "profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "profiles_agency_id_agencies_id_fk": {
          "name": "profiles_agency_id_agencies_id_fk",
          "tableFrom": "profiles",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_roles": {
      "name": "user_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "custom_role_name": {
          "name": "custom_role_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_by": {
          "name": "revoked_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_user_roles_active_unique": {
          "name": "idx_user_roles_active_unique",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "is_active = true AND revoked_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_roles_user_id": {
          "name": "idx_user_roles_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_roles_agency_id": {
          "name": "idx_user_roles_agency_id",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "agency_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_roles_role": {
          "name": "idx_user_roles_role",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_roles_is_active": {
          "name": "idx_user_roles_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_roles_valid_until": {
          "name": "idx_user_roles_valid_until",
          "columns": [
            {
              "expression": "valid_until",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "valid_until IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_roles_user_id_users_id_fk": {
          "name": "user_roles_user_id_users_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_roles_agency_id_agencies_id_fk": {
          "name": "user_roles_agency_id_agencies_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_roles_assigned_by_users_id_fk": {
          "name": "user_roles_assigned_by_users_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_roles_revoked_by_users_id_fk": {
          "name": "user_roles_revoked_by_users_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "users",
          "columnsFrom": [
            "revoked_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_sessions": {
      "name": "user_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token_hash": {
          "name": "token_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token_hash": {
          "name": "refresh_token_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device_fingerprint": {
          "name": "device_fingerprint",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_expires_at": {
          "name": "refresh_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_reason": {
          "name": "revoked_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_sessions_token_hash": {
          "name": "idx_user_sessions_token_hash",
          "columns": [
            {
              "expression": "token_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "is_active = true AND revoked_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_sessions_user_id": {
          "name": "idx_user_sessions_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "is_active = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_sessions_expires_at": {
          "name": "idx_user_sessions_expires_at",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "is_active = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_sessions_user_id_users_id_fk": {
          "name": "user_sessions_user_id_users_id_fk",
          "tableFrom": "user_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agency_page_assignments": {
      "name": "agency_page_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agency_id": {
          "name": "agency_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "page_id": {
          "name": "page_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "page_assignment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "cost_override": {
          "name": "cost_override",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "billing_cycle_override": {
          "name": "billing_cycle_override",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discount_percent": {
          "name": "discount_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "is_trial": {
          "name": "is_trial",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "trial_started_at": {
          "name": "trial_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "trial_ends_at": {
          "name": "trial_ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "activated_at": {
          "name": "activated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "suspended_at": {
          "name": "suspended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "suspended_by": {
          "name": "suspended_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "suspension_reason": {
          "name": "suspension_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "auto_renew": {
          "name": "auto_renew",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_accessed_at": {
          "name": "last_accessed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "custom_quota": {
          "name": "custom_quota",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "unique_agency_page": {
          "name": "unique_agency_page",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "page_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_page_assignments_agency_id": {
          "name": "idx_agency_page_assignments_agency_id",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_page_assignments_page_id": {
          "name": "idx_agency_page_assignments_page_id",
          "columns": [
            {
              "expression": "page_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_page_assignments_status": {
          "name": "idx_agency_page_assignments_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_page_assignments_trial": {
          "name": "idx_agency_page_assignments_trial",
          "columns": [
            {
              "expression": "trial_ends_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "is_trial = true AND status = 'trial'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_page_assignments_expires": {
          "name": "idx_agency_page_assignments_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "expires_at IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agency_page_assignments_agency_id_agencies_id_fk": {
          "name": "agency_page_assignments_agency_id_agencies_id_fk",
          "tableFrom": "agency_page_assignments",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agency_page_assignments_page_id_page_catalog_id_fk": {
          "name": "agency_page_assignments_page_id_page_catalog_id_fk",
          "tableFrom": "agency_page_assignments",
          "tableTo": "page_catalog",
          "columnsFrom": [
            "page_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agency_page_assignments_assigned_by_users_id_fk": {
          "name": "agency_page_assignments_assigned_by_users_id_fk",
          "tableFrom": "agency_page_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agency_page_assignments_suspended_by_users_id_fk": {
          "name": "agency_page_assignments_suspended_by_users_id_fk",
          "tableFrom": "agency_page_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "suspended_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agency_page_requests": {
      "name": "agency_page_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agency_id": {
          "name": "agency_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "page_id": {
          "name": "page_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "page_request_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "business_justification": {
          "name": "business_justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expected_usage": {
          "name": "expected_usage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expected_users": {
          "name": "expected_users",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "budget_allocated": {
          "name": "budget_allocated",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "desired_start_date": {
          "name": "desired_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_cost": {
          "name": "approved_cost",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auto_approved": {
          "name": "auto_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agency_page_requests_agency_id": {
          "name": "idx_agency_page_requests_agency_id",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_page_requests_page_id": {
          "name": "idx_agency_page_requests_page_id",
          "columns": [
            {
              "expression": "page_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_page_requests_status": {
          "name": "idx_agency_page_requests_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_page_requests_requested_by": {
          "name": "idx_agency_page_requests_requested_by",
          "columns": [
            {
              "expression": "requested_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_page_requests_priority": {
          "name": "idx_agency_page_requests_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agency_page_requests_agency_id_agencies_id_fk": {
          "name": "agency_page_requests_agency_id_agencies_id_fk",
          "tableFrom": "agency_page_requests",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agency_page_requests_page_id_page_catalog_id_fk": {
          "name": "agency_page_requests_page_id_page_catalog_id_fk",
          "tableFrom": "agency_page_requests",
          "tableTo": "page_catalog",
          "columnsFrom": [
            "page_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agency_page_requests_requested_by_users_id_fk": {
          "name": "agency_page_requests_requested_by_users_id_fk",
          "tableFrom": "agency_page_requests",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agency_page_requests_reviewed_by_users_id_fk": {
          "name": "agency_page_requests_reviewed_by_users_id_fk",
          "tableFrom": "agency_page_requests",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.page_catalog": {
      "name": "page_catalog",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "path": {
          "name": "path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "page_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "parent_page_id": {
          "name": "parent_page_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "base_cost": {
          "name": "base_cost",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "billing_cycle": {
          "name": "billing_cycle",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'monthly'"
        },
        "min_subscription_tier": {
          "name": "min_subscription_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "required_features": {
          "name": "required_features",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "dependent_pages": {
          "name": "dependent_pages",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_beta": {
          "name": "is_beta",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "requires_approval": {
          "name": "requires_approval",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "requires_onboarding": {
          "name": "requires_onboarding",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_trial": {
          "name": "has_trial",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "trial_duration_days": {
          "name": "trial_duration_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "permissions_required": {
          "name": "permissions_required",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "api_quota_default": {
          "name": "api_quota_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "storage_quota_mb": {
          "name": "storage_quota_mb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_concurrent_users": {
          "name": "max_concurrent_users",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "seo_title": {
          "name": "seo_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "seo_description": {
          "name": "seo_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "seo_keywords": {
          "name": "seo_keywords",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "documentation_url": {
          "name": "documentation_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_tutorial_url": {
          "name": "video_tutorial_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "support_email": {
          "name": "support_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "release_date": {
          "name": "release_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "deprecation_date": {
          "name": "deprecation_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "replacement_page_id": {
          "name": "replacement_page_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "analytics_enabled": {
          "name": "analytics_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_page_catalog_path": {
          "name": "idx_page_catalog_path",
          "columns": [
            {
              "expression": "path",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"page_catalog\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_page_catalog_category": {
          "name": "idx_page_catalog_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "is_active = true AND deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_page_catalog_parent_page_id": {
          "name": "idx_page_catalog_parent_page_id",
          "columns": [
            {
              "expression": "parent_page_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "parent_page_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_page_catalog_is_active": {
          "name": "idx_page_catalog_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"page_catalog\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_page_catalog_display_order": {
          "name": "idx_page_catalog_display_order",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "display_order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "page_catalog_parent_page_id_page_catalog_id_fk": {
          "name": "page_catalog_parent_page_id_page_catalog_id_fk",
          "tableFrom": "page_catalog",
          "tableTo": "page_catalog",
          "columnsFrom": [
            "parent_page_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "page_catalog_replacement_page_id_page_catalog_id_fk": {
          "name": "page_catalog_replacement_page_id_page_catalog_id_fk",
          "tableFrom": "page_catalog",
          "tableTo": "page_catalog",
          "columnsFrom": [
            "replacement_page_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "page_catalog_path_unique": {
          "name": "page_catalog_path_unique",
          "nullsNotDistinct": false,
          "columns": [
            "path"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.page_pricing_tiers": {
      "name": "page_pricing_tiers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "page_id": {
          "name": "page_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tier_name": {
          "name": "tier_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tier_level": {
          "name": "tier_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "cost": {
          "name": "cost",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "billing_cycle": {
          "name": "billing_cycle",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'monthly'"
        },
        "quota_overrides": {
          "name": "quota_overrides",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "feature_flags": {
          "name": "feature_flags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "valid_from": {
          "name": "valid_from",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "unique_page_tier": {
          "name": "unique_page_tier",
          "columns": [
            {
              "expression": "page_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "tier_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "billing_cycle",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_page_pricing_tiers_page_id": {
          "name": "idx_page_pricing_tiers_page_id",
          "columns": [
            {
              "expression": "page_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "is_active = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_page_pricing_tiers_tier_name": {
          "name": "idx_page_pricing_tiers_tier_name",
          "columns": [
            {
              "expression": "tier_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "page_pricing_tiers_page_id_page_catalog_id_fk": {
          "name": "page_pricing_tiers_page_id_page_catalog_id_fk",
          "tableFrom": "page_pricing_tiers",
          "tableTo": "page_catalog",
          "columnsFrom": [
            "page_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.page_recommendation_rules": {
      "name": "page_recommendation_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "page_id": {
          "name": "page_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "industry": {
          "name": "industry",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "company_size": {
          "name": "company_size",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "primary_focus": {
          "name": "primary_focus",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "business_goals": {
          "name": "business_goals",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "weight": {
          "name": "weight",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0'"
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "min_employees": {
          "name": "min_employees",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_employees": {
          "name": "max_employees",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_revenue": {
          "name": "min_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_revenue": {
          "name": "max_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "geographic_regions": {
          "name": "geographic_regions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "exclude_industries": {
          "name": "exclude_industries",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "custom_criteria": {
          "name": "custom_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_page_recommendation_rules_page_id": {
          "name": "idx_page_recommendation_rules_page_id",
          "columns": [
            {
              "expression": "page_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "is_active = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_page_recommendation_rules_priority": {
          "name": "idx_page_recommendation_rules_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "page_recommendation_rules_page_id_page_catalog_id_fk": {
          "name": "page_recommendation_rules_page_id_page_catalog_id_fk",
          "tableFrom": "page_recommendation_rules",
          "tableTo": "page_catalog",
          "columnsFrom": [
            "page_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "page_recommendation_rules_page_id_unique": {
          "name": "page_recommendation_rules_page_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "page_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.page_usage_analytics": {
      "name": "page_usage_analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agency_id": {
          "name": "agency_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "page_id": {
          "name": "page_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "view_count": {
          "name": "view_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unique_users": {
          "name": "unique_users",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_duration_seconds": {
          "name": "total_duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "avg_session_duration_seconds": {
          "name": "avg_session_duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "action_count": {
          "name": "action_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "error_count": {
          "name": "error_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "performance_score": {
          "name": "performance_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "unique_page_usage_daily": {
          "name": "unique_page_usage_daily",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "page_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_page_usage_analytics_agency_id": {
          "name": "idx_page_usage_analytics_agency_id",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_page_usage_analytics_page_id": {
          "name": "idx_page_usage_analytics_page_id",
          "columns": [
            {
              "expression": "page_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_page_usage_analytics_date": {
          "name": "idx_page_usage_analytics_date",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "page_usage_analytics_agency_id_agencies_id_fk": {
          "name": "page_usage_analytics_agency_id_agencies_id_fk",
          "tableFrom": "page_usage_analytics",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "page_usage_analytics_page_id_page_catalog_id_fk": {
          "name": "page_usage_analytics_page_id_page_catalog_id_fk",
          "tableFrom": "page_usage_analytics",
          "tableTo": "page_catalog",
          "columnsFrom": [
            "page_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "page_usage_analytics_user_id_users_id_fk": {
          "name": "page_usage_analytics_user_id_users_id_fk",
          "tableFrom": "page_usage_analytics",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_features": {
      "name": "system_features",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "feature_key": {
          "name": "feature_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "system_features_feature_key_unique": {
          "name": "system_features_feature_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "feature_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.currencies": {
      "name": "currencies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "is_base": {
          "name": "is_base",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_currencies_code": {
          "name": "idx_currencies_code",
          "columns": [
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_currencies_is_base": {
          "name": "idx_currencies_is_base",
          "columns": [
            {
              "expression": "is_base",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "currencies_code_unique": {
          "name": "currencies_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_normalized": {
          "name": "email_normalized",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_confirmed": {
          "name": "email_confirmed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "email_confirmed_at": {
          "name": "email_confirmed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone_verified": {
          "name": "phone_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "phone_verified_at": {
          "name": "phone_verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "user_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "failed_login_attempts": {
          "name": "failed_login_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "locked_until": {
          "name": "locked_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "password_changed_at": {
          "name": "password_changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "must_change_password": {
          "name": "must_change_password",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "terms_accepted_at": {
          "name": "terms_accepted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "terms_version": {
          "name": "terms_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "privacy_accepted_at": {
          "name": "privacy_accepted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_sign_in_at": {
          "name": "last_sign_in_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_sign_in_ip": {
          "name": "last_sign_in_ip",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "sign_in_count": {
          "name": "sign_in_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "raw_user_meta_data": {
          "name": "raw_user_meta_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_users_email_normalized": {
          "name": "idx_users_email_normalized",
          "columns": [
            {
              "expression": "email_normalized",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"users\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_email": {
          "name": "idx_users_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_phone": {
          "name": "idx_users_phone",
          "columns": [
            {
              "expression": "phone",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "phone IS NOT NULL AND deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_status": {
          "name": "idx_users_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"users\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_email_confirmed": {
          "name": "idx_users_email_confirmed",
          "columns": [
            {
              "expression": "email_confirmed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"users\".\"deleted_at\" is null",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_locked_until": {
          "name": "idx_users_locked_until",
          "columns": [
            {
              "expression": "locked_until",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "locked_until IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_created_at": {
          "name": "idx_users_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_settings": {
      "name": "system_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "system_name": {
          "name": "system_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'BuildFlow ERP'"
        },
        "system_tagline": {
          "name": "system_tagline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "system_description": {
          "name": "system_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_light_url": {
          "name": "logo_light_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_dark_url": {
          "name": "logo_dark_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "favicon_url": {
          "name": "favicon_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "login_logo_url": {
          "name": "login_logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_logo_url": {
          "name": "email_logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta_title": {
          "name": "meta_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta_description": {
          "name": "meta_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta_keywords": {
          "name": "meta_keywords",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "og_image_url": {
          "name": "og_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "og_title": {
          "name": "og_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "og_description": {
          "name": "og_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "twitter_card_type": {
          "name": "twitter_card_type",
          "type": "twitter_card_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'summary_large_image'"
        },
        "twitter_site": {
          "name": "twitter_site",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "twitter_creator": {
          "name": "twitter_creator",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "google_analytics_id": {
          "name": "google_analytics_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "google_tag_manager_id": {
          "name": "google_tag_manager_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "facebook_pixel_id": {
          "name": "facebook_pixel_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_tracking_code": {
          "name": "custom_tracking_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_head_scripts": {
          "name": "custom_head_scripts",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_body_scripts": {
          "name": "custom_body_scripts",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ad_network_enabled": {
          "name": "ad_network_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "ad_network_code": {
          "name": "ad_network_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ad_placement_config": {
          "name": "ad_placement_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "support_email": {
          "name": "support_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "support_phone": {
          "name": "support_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "support_address": {
          "name": "support_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "social_links": {
          "name": "social_links",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "legal_links": {
          "name": "legal_links",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "email_provider": {
          "name": "email_provider",
          "type": "email_provider_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'smtp'"
        },
        "smtp_host": {
          "name": "smtp_host",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_port": {
          "name": "smtp_port",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 587
        },
        "smtp_user": {
          "name": "smtp_user",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_password_encrypted": {
          "name": "smtp_password_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_from_email": {
          "name": "smtp_from_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_from_name": {
          "name": "smtp_from_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_use_tls": {
          "name": "smtp_use_tls",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "smtp_use_ssl": {
          "name": "smtp_use_ssl",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sendgrid_api_key_encrypted": {
          "name": "sendgrid_api_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sendgrid_from_email": {
          "name": "sendgrid_from_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sendgrid_from_name": {
          "name": "sendgrid_from_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mailgun_api_key_encrypted": {
          "name": "mailgun_api_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mailgun_domain": {
          "name": "mailgun_domain",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mailgun_region": {
          "name": "mailgun_region",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'us'"
        },
        "aws_ses_region": {
          "name": "aws_ses_region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aws_ses_access_key_encrypted": {
          "name": "aws_ses_access_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aws_ses_secret_key_encrypted": {
          "name": "aws_ses_secret_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aws_ses_from_email": {
          "name": "aws_ses_from_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aws_ses_from_name": {
          "name": "aws_ses_from_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resend_api_key_encrypted": {
          "name": "resend_api_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resend_from_email": {
          "name": "resend_from_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resend_from_name": {
          "name": "resend_from_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postmark_api_key_encrypted": {
          "name": "postmark_api_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postmark_from_email": {
          "name": "postmark_from_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postmark_from_name": {
          "name": "postmark_from_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_test_mode": {
          "name": "email_test_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "email_test_recipient": {
          "name": "email_test_recipient",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password_min_length": {
          "name": "password_min_length",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 8
        },
        "password_max_length": {
          "name": "password_max_length",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 128
        },
        "password_require_uppercase": {
          "name": "password_require_uppercase",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "password_require_lowercase": {
          "name": "password_require_lowercase",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "password_require_numbers": {
          "name": "password_require_numbers",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "password_require_symbols": {
          "name": "password_require_symbols",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "password_expiry_days": {
          "name": "password_expiry_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "password_history_count": {
          "name": "password_history_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "session_timeout_minutes": {
          "name": "session_timeout_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "session_absolute_timeout_hours": {
          "name": "session_absolute_timeout_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 24
        },
        "max_concurrent_sessions": {
          "name": "max_concurrent_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "max_login_attempts": {
          "name": "max_login_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "lockout_duration_minutes": {
          "name": "lockout_duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "progressive_lockout": {
          "name": "progressive_lockout",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "require_email_verification": {
          "name": "require_email_verification",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "email_verification_expires_hours": {
          "name": "email_verification_expires_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 24
        },
        "enable_two_factor": {
          "name": "enable_two_factor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "force_two_factor_for_roles": {
          "name": "force_two_factor_for_roles",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "enable_captcha": {
          "name": "enable_captcha",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "captcha_provider": {
          "name": "captcha_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'recaptcha_v3'"
        },
        "captcha_site_key": {
          "name": "captcha_site_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "captcha_secret_key_encrypted": {
          "name": "captcha_secret_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "captcha_threshold": {
          "name": "captcha_threshold",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.5'"
        },
        "enable_rate_limiting": {
          "name": "enable_rate_limiting",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "rate_limit_requests_per_minute": {
          "name": "rate_limit_requests_per_minute",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "rate_limit_burst_size": {
          "name": "rate_limit_burst_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "ip_whitelist": {
          "name": "ip_whitelist",
          "type": "inet[]",
          "primaryKey": false,
          "notNull": false
        },
        "ip_blacklist": {
          "name": "ip_blacklist",
          "type": "inet[]",
          "primaryKey": false,
          "notNull": false
        },
        "enable_ip_geolocation": {
          "name": "enable_ip_geolocation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "blocked_countries": {
          "name": "blocked_countries",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_countries": {
          "name": "allowed_countries",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "file_storage_provider": {
          "name": "file_storage_provider",
          "type": "storage_provider_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'local'"
        },
        "file_storage_path": {
          "name": "file_storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'/app/storage'"
        },
        "max_file_size_bytes": {
          "name": "max_file_size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 10485760
        },
        "max_total_storage_bytes": {
          "name": "max_total_storage_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_mime_types": {
          "name": "allowed_mime_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"image/jpeg\",\"image/png\",\"image/gif\",\"application/pdf\",\"application/msword\",\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\"application/vnd.ms-excel\",\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\"application/zip\"}'"
        },
        "blocked_mime_types": {
          "name": "blocked_mime_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"application/x-executable\",\"application/x-msdos-program\"}'"
        },
        "enable_virus_scanning": {
          "name": "enable_virus_scanning",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "virus_scan_provider": {
          "name": "virus_scan_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aws_s3_bucket": {
          "name": "aws_s3_bucket",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aws_s3_region": {
          "name": "aws_s3_region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aws_s3_access_key_encrypted": {
          "name": "aws_s3_access_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aws_s3_secret_key_encrypted": {
          "name": "aws_s3_secret_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aws_s3_public_url": {
          "name": "aws_s3_public_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cdn_enabled": {
          "name": "cdn_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "cdn_url": {
          "name": "cdn_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "api_enabled": {
          "name": "api_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "api_rate_limit_enabled": {
          "name": "api_rate_limit_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "api_rate_limit_requests_per_minute": {
          "name": "api_rate_limit_requests_per_minute",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "api_timeout_seconds": {
          "name": "api_timeout_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "api_max_payload_size_bytes": {
          "name": "api_max_payload_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1048576
        },
        "enable_api_documentation": {
          "name": "enable_api_documentation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "api_documentation_url": {
          "name": "api_documentation_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enable_cors": {
          "name": "enable_cors",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "cors_allowed_origins": {
          "name": "cors_allowed_origins",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "cors_allowed_methods": {
          "name": "cors_allowed_methods",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"GET\",\"POST\",\"PUT\",\"DELETE\",\"PATCH\"}'"
        },
        "cors_allowed_headers": {
          "name": "cors_allowed_headers",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"Content-Type\",\"Authorization\"}'"
        },
        "cors_max_age_seconds": {
          "name": "cors_max_age_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 86400
        },
        "log_level": {
          "name": "log_level",
          "type": "log_level_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'info'"
        },
        "enable_audit_logging": {
          "name": "enable_audit_logging",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "log_retention_days": {
          "name": "log_retention_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 90
        },
        "log_sensitive_data": {
          "name": "log_sensitive_data",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "enable_error_tracking": {
          "name": "enable_error_tracking",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sentry_dsn_encrypted": {
          "name": "sentry_dsn_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sentry_environment": {
          "name": "sentry_environment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sentry_sample_rate": {
          "name": "sentry_sample_rate",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "enable_performance_monitoring": {
          "name": "enable_performance_monitoring",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "performance_sample_rate": {
          "name": "performance_sample_rate",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.1'"
        },
        "enable_auto_backup": {
          "name": "enable_auto_backup",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "backup_schedule": {
          "name": "backup_schedule",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'0 2 * * *'"
        },
        "backup_retention_days": {
          "name": "backup_retention_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "backup_storage_provider": {
          "name": "backup_storage_provider",
          "type": "storage_provider_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'local'"
        },
        "backup_storage_path": {
          "name": "backup_storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'/app/backups'"
        },
        "backup_encryption_enabled": {
          "name": "backup_encryption_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "backup_compression_enabled": {
          "name": "backup_compression_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "maintenance_mode": {
          "name": "maintenance_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "maintenance_message": {
          "name": "maintenance_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "maintenance_allowed_ips": {
          "name": "maintenance_allowed_ips",
          "type": "inet[]",
          "primaryKey": false,
          "notNull": false
        },
        "maintenance_start_time": {
          "name": "maintenance_start_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "maintenance_end_time": {
          "name": "maintenance_end_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "default_language": {
          "name": "default_language",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'en'"
        },
        "available_languages": {
          "name": "available_languages",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"en\"}'"
        },
        "default_timezone": {
          "name": "default_timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "default_currency_code": {
          "name": "default_currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "default_date_format": {
          "name": "default_date_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'YYYY-MM-DD'"
        },
        "default_time_format": {
          "name": "default_time_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'HH:mm:ss'"
        },
        "enable_registration": {
          "name": "enable_registration",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "registration_requires_approval": {
          "name": "registration_requires_approval",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "registration_auto_verify_email": {
          "name": "registration_auto_verify_email",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "default_user_role": {
          "name": "default_user_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enable_invitations": {
          "name": "enable_invitations",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "invitation_expiry_hours": {
          "name": "invitation_expiry_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 72
        },
        "terms_version": {
          "name": "terms_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "terms_last_updated": {
          "name": "terms_last_updated",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "privacy_version": {
          "name": "privacy_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "privacy_last_updated": {
          "name": "privacy_last_updated",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cookie_consent_enabled": {
          "name": "cookie_consent_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "gdpr_compliant": {
          "name": "gdpr_compliant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "data_retention_days": {
          "name": "data_retention_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "enable_data_export": {
          "name": "enable_data_export",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "enable_account_deletion": {
          "name": "enable_account_deletion",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "system_version": {
          "name": "system_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deployment_environment": {
          "name": "deployment_environment",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'production'"
        },
        "feature_flags": {
          "name": "feature_flags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "custom_settings": {
          "name": "custom_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_system_settings_singleton": {
          "name": "idx_system_settings_singleton",
          "columns": [
            {
              "expression": "(1)",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agency_id": {
          "name": "agency_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "record_id": {
          "name": "record_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "audit_action",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "old_values": {
          "name": "old_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "changed_fields": {
          "name": "changed_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "endpoint": {
          "name": "endpoint",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "method": {
          "name": "method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status_code": {
          "name": "status_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_audit_logs_agency_id": {
          "name": "idx_audit_logs_agency_id",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "agency_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_user_id": {
          "name": "idx_audit_logs_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "user_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_session_id": {
          "name": "idx_audit_logs_session_id",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "session_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_table_name": {
          "name": "idx_audit_logs_table_name",
          "columns": [
            {
              "expression": "table_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_record_id": {
          "name": "idx_audit_logs_record_id",
          "columns": [
            {
              "expression": "record_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "record_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_action": {
          "name": "idx_audit_logs_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_created_at": {
          "name": "idx_audit_logs_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_table_record": {
          "name": "idx_audit_logs_table_record",
          "columns": [
            {
              "expression": "table_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "record_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_request_id": {
          "name": "idx_audit_logs_request_id",
          "columns": [
            {
              "expression": "request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "request_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_logs_agency_id_agencies_id_fk": {
          "name": "audit_logs_agency_id_agencies_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "audit_logs_user_id_users_id_fk": {
          "name": "audit_logs_user_id_users_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_logs_session_id_user_sessions_id_fk": {
          "name": "audit_logs_session_id_user_sessions_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "user_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_alert_rules": {
      "name": "system_alert_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "rule_name": {
          "name": "rule_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metric_name": {
          "name": "metric_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "condition": {
          "name": "condition",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "threshold_value": {
          "name": "threshold_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "comparison_operator": {
          "name": "comparison_operator",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "alert_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "cooldown_seconds": {
          "name": "cooldown_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 300
        },
        "notification_channels": {
          "name": "notification_channels",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_system_alert_rules_enabled": {
          "name": "idx_system_alert_rules_enabled",
          "columns": [
            {
              "expression": "is_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_alert_rules_metric": {
          "name": "idx_system_alert_rules_metric",
          "columns": [
            {
              "expression": "metric_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "is_enabled = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "system_alert_rules_rule_name_unique": {
          "name": "system_alert_rules_rule_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "rule_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_alerts": {
      "name": "system_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "alert_rule_id": {
          "name": "alert_rule_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "alert_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metric_name": {
          "name": "metric_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_value": {
          "name": "current_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "threshold_value": {
          "name": "threshold_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "triggered_at": {
          "name": "triggered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notification_sent": {
          "name": "notification_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "notification_sent_at": {
          "name": "notification_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_system_alerts_status": {
          "name": "idx_system_alerts_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_alerts_severity": {
          "name": "idx_system_alerts_severity",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_alerts_triggered_at": {
          "name": "idx_system_alerts_triggered_at",
          "columns": [
            {
              "expression": "triggered_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_alerts_alert_rule_id": {
          "name": "idx_system_alerts_alert_rule_id",
          "columns": [
            {
              "expression": "alert_rule_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "system_alerts_alert_rule_id_system_alert_rules_id_fk": {
          "name": "system_alerts_alert_rule_id_system_alert_rules_id_fk",
          "tableFrom": "system_alerts",
          "tableTo": "system_alert_rules",
          "columnsFrom": [
            "alert_rule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "system_alerts_acknowledged_by_users_id_fk": {
          "name": "system_alerts_acknowledged_by_users_id_fk",
          "tableFrom": "system_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "acknowledged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "system_alerts_resolved_by_users_id_fk": {
          "name": "system_alerts_resolved_by_users_id_fk",
          "tableFrom": "system_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_health_metrics": {
      "name": "system_health_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "overall_status": {
          "name": "overall_status",
          "type": "health_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'healthy'"
        },
        "db_status": {
          "name": "db_status",
          "type": "health_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "db_response_time_ms": {
          "name": "db_response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "db_size_bytes": {
          "name": "db_size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "db_connections_active": {
          "name": "db_connections_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "db_connections_idle": {
          "name": "db_connections_idle",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "db_connections_waiting": {
          "name": "db_connections_waiting",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "db_connections_max": {
          "name": "db_connections_max",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "db_connections_usage_percent": {
          "name": "db_connections_usage_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "db_locks_count": {
          "name": "db_locks_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "db_deadlocks_count": {
          "name": "db_deadlocks_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "db_cache_hit_ratio": {
          "name": "db_cache_hit_ratio",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "db_index_usage_percent": {
          "name": "db_index_usage_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "db_table_count": {
          "name": "db_table_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "db_total_rows": {
          "name": "db_total_rows",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "db_temp_files": {
          "name": "db_temp_files",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "db_temp_bytes": {
          "name": "db_temp_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "db_transaction_rate": {
          "name": "db_transaction_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "db_query_rate": {
          "name": "db_query_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "db_slow_queries": {
          "name": "db_slow_queries",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "redis_status": {
          "name": "redis_status",
          "type": "health_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "redis_response_time_ms": {
          "name": "redis_response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "redis_memory_used_bytes": {
          "name": "redis_memory_used_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "redis_memory_peak_bytes": {
          "name": "redis_memory_peak_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "redis_memory_fragmentation_ratio": {
          "name": "redis_memory_fragmentation_ratio",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "redis_connected_clients": {
          "name": "redis_connected_clients",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "redis_blocked_clients": {
          "name": "redis_blocked_clients",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "redis_commands_processed": {
          "name": "redis_commands_processed",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "redis_keyspace_hits": {
          "name": "redis_keyspace_hits",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "redis_keyspace_misses": {
          "name": "redis_keyspace_misses",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "redis_hit_rate": {
          "name": "redis_hit_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "redis_evicted_keys": {
          "name": "redis_evicted_keys",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "redis_expired_keys": {
          "name": "redis_expired_keys",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "redis_cpu_usage_percent": {
          "name": "redis_cpu_usage_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "system_platform": {
          "name": "system_platform",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "system_arch": {
          "name": "system_arch",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "system_node_version": {
          "name": "system_node_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "system_uptime_seconds": {
          "name": "system_uptime_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "system_memory_total_bytes": {
          "name": "system_memory_total_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "system_memory_used_bytes": {
          "name": "system_memory_used_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "system_memory_free_bytes": {
          "name": "system_memory_free_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "system_memory_usage_percent": {
          "name": "system_memory_usage_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "system_cpu_count": {
          "name": "system_cpu_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "system_cpu_model": {
          "name": "system_cpu_model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "system_cpu_usage_percent": {
          "name": "system_cpu_usage_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "system_load_avg_1min": {
          "name": "system_load_avg_1min",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "system_load_avg_5min": {
          "name": "system_load_avg_5min",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "system_load_avg_15min": {
          "name": "system_load_avg_15min",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "system_disk_total_bytes": {
          "name": "system_disk_total_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "system_disk_used_bytes": {
          "name": "system_disk_used_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "system_disk_free_bytes": {
          "name": "system_disk_free_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "system_disk_usage_percent": {
          "name": "system_disk_usage_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "process_memory_rss_bytes": {
          "name": "process_memory_rss_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "process_memory_heap_total_bytes": {
          "name": "process_memory_heap_total_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "process_memory_heap_used_bytes": {
          "name": "process_memory_heap_used_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "process_memory_heap_limit_bytes": {
          "name": "process_memory_heap_limit_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "process_memory_external_bytes": {
          "name": "process_memory_external_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "process_cpu_user_microseconds": {
          "name": "process_cpu_user_microseconds",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "process_cpu_system_microseconds": {
          "name": "process_cpu_system_microseconds",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "process_event_loop_lag_ms": {
          "name": "process_event_loop_lag_ms",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "api_response_time_avg_ms": {
          "name": "api_response_time_avg_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "api_response_time_p50_ms": {
          "name": "api_response_time_p50_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "api_response_time_p95_ms": {
          "name": "api_response_time_p95_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "api_response_time_p99_ms": {
          "name": "api_response_time_p99_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "api_requests_total": {
          "name": "api_requests_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "api_requests_per_second": {
          "name": "api_requests_per_second",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "api_error_count": {
          "name": "api_error_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "api_error_rate_percent": {
          "name": "api_error_rate_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "api_timeout_count": {
          "name": "api_timeout_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "active_sessions": {
          "name": "active_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "active_websockets": {
          "name": "active_websockets",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "queue_length": {
          "name": "queue_length",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "queue_processing_rate": {
          "name": "queue_processing_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_system_health_metrics_timestamp": {
          "name": "idx_system_health_metrics_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_health_metrics_overall_status": {
          "name": "idx_system_health_metrics_overall_status",
          "columns": [
            {
              "expression": "overall_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_health_metrics_db_status": {
          "name": "idx_system_health_metrics_db_status",
          "columns": [
            {
              "expression": "db_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_health_metrics_redis_status": {
          "name": "idx_system_health_metrics_redis_status",
          "columns": [
            {
              "expression": "redis_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_incidents": {
      "name": "system_incidents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "incident_number": {
          "name": "incident_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "alert_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'investigating'"
        },
        "affected_services": {
          "name": "affected_services",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "root_cause": {
          "name": "root_cause",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_summary": {
          "name": "resolution_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "impact_description": {
          "name": "impact_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "affected_users_count": {
          "name": "affected_users_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "related_alerts": {
          "name": "related_alerts",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "timeline": {
          "name": "timeline",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_system_incidents_status": {
          "name": "idx_system_incidents_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_incidents_severity": {
          "name": "idx_system_incidents_severity",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_incidents_started_at": {
          "name": "idx_system_incidents_started_at",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_incidents_assigned_to": {
          "name": "idx_system_incidents_assigned_to",
          "columns": [
            {
              "expression": "assigned_to",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "system_incidents_created_by_users_id_fk": {
          "name": "system_incidents_created_by_users_id_fk",
          "tableFrom": "system_incidents",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "system_incidents_assigned_to_users_id_fk": {
          "name": "system_incidents_assigned_to_users_id_fk",
          "tableFrom": "system_incidents",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "system_incidents_incident_number_unique": {
          "name": "system_incidents_incident_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "incident_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_sla_metrics": {
      "name": "system_sla_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "metric_date": {
          "name": "metric_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "service_name": {
          "name": "service_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "uptime_percentage": {
          "name": "uptime_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "downtime_minutes": {
          "name": "downtime_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_requests": {
          "name": "total_requests",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "successful_requests": {
          "name": "successful_requests",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failed_requests": {
          "name": "failed_requests",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "avg_response_time_ms": {
          "name": "avg_response_time_ms",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "p95_response_time_ms": {
          "name": "p95_response_time_ms",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "p99_response_time_ms": {
          "name": "p99_response_time_ms",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "incident_count": {
          "name": "incident_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "mttr_minutes": {
          "name": "mttr_minutes",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "mttd_minutes": {
          "name": "mttd_minutes",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_system_sla_metrics_date": {
          "name": "idx_system_sla_metrics_date",
          "columns": [
            {
              "expression": "metric_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_sla_metrics_service": {
          "name": "idx_system_sla_metrics_service",
          "columns": [
            {
              "expression": "service_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_sla_metric_per_service_day": {
          "name": "unique_sla_metric_per_service_day",
          "columns": [
            {
              "expression": "metric_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "service_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agency_provisioning_jobs": {
      "name": "agency_provisioning_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "provisioning_job_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "domain": {
          "name": "domain",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "database_name": {
          "name": "database_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "agency_name": {
          "name": "agency_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner_email": {
          "name": "owner_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_plan": {
          "name": "subscription_plan",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "validation_errors": {
          "name": "validation_errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "progress_percentage": {
          "name": "progress_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "current_step": {
          "name": "current_step",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "steps_completed": {
          "name": "steps_completed",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "steps_total": {
          "name": "steps_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "agency_id": {
          "name": "agency_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_details": {
          "name": "error_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "stack_trace": {
          "name": "stack_trace",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "timeout_seconds": {
          "name": "timeout_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 300
        },
        "worker_id": {
          "name": "worker_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "worker_hostname": {
          "name": "worker_hostname",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cancellation_reason": {
          "name": "cancellation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_completion_at": {
          "name": "estimated_completion_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agency_provisioning_jobs_idempotency": {
          "name": "idx_agency_provisioning_jobs_idempotency",
          "columns": [
            {
              "expression": "idempotency_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "idempotency_key IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_provisioning_jobs_status": {
          "name": "idx_agency_provisioning_jobs_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_provisioning_jobs_domain": {
          "name": "idx_agency_provisioning_jobs_domain",
          "columns": [
            {
              "expression": "domain",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_provisioning_jobs_database_name": {
          "name": "idx_agency_provisioning_jobs_database_name",
          "columns": [
            {
              "expression": "database_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_provisioning_jobs_requested_by": {
          "name": "idx_agency_provisioning_jobs_requested_by",
          "columns": [
            {
              "expression": "requested_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_provisioning_jobs_agency_id": {
          "name": "idx_agency_provisioning_jobs_agency_id",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_provisioning_jobs_created_at": {
          "name": "idx_agency_provisioning_jobs_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agency_provisioning_jobs_requested_by_users_id_fk": {
          "name": "agency_provisioning_jobs_requested_by_users_id_fk",
          "tableFrom": "agency_provisioning_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agency_provisioning_jobs_agency_id_agencies_id_fk": {
          "name": "agency_provisioning_jobs_agency_id_agencies_id_fk",
          "tableFrom": "agency_provisioning_jobs",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agency_provisioning_jobs_cancelled_by_users_id_fk": {
          "name": "agency_provisioning_jobs_cancelled_by_users_id_fk",
          "tableFrom": "agency_provisioning_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "cancelled_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agency_provisioning_logs": {
      "name": "agency_provisioning_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "level": {
          "name": "level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step": {
          "name": "step",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agency_provisioning_logs_job_id": {
          "name": "idx_agency_provisioning_logs_job_id",
          "columns": [
            {
              "expression": "job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agency_provisioning_logs_level": {
          "name": "idx_agency_provisioning_logs_level",
          "columns": [
            {
              "expression": "level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "level IN ('error', 'warn')",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agency_provisioning_logs_job_id_agency_provisioning_jobs_id_fk": {
          "name": "agency_provisioning_logs_job_id_agency_provisioning_jobs_id_fk",
          "tableFrom": "agency_provisioning_logs",
          "tableTo": "agency_provisioning_jobs",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription_plans": {
      "name": "subscription_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "base_price_monthly": {
          "name": "base_price_monthly",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "base_price_yearly": {
          "name": "base_price_yearly",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "max_users": {
          "name": "max_users",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "max_storage_gb": {
          "name": "max_storage_gb",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "features": {
          "name": "features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "subscription_plans_name_unique": {
          "name": "subscription_plans_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        },
        "subscription_plans_slug_unique": {
          "name": "subscription_plans_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'info'"
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "link": {
          "name": "link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notifications_user_id": {
          "name": "idx_notifications_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_agency_id": {
          "name": "idx_notifications_agency_id",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_is_read": {
          "name": "idx_notifications_is_read",
          "columns": [
            {
              "expression": "is_read",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_created_at": {
          "name": "idx_notifications_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notifications_user_id_users_id_fk": {
          "name": "notifications_user_id_users_id_fk",
          "tableFrom": "notifications",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notifications_agency_id_agencies_id_fk": {
          "name": "notifications_agency_id_agencies_id_fk",
          "tableFrom": "notifications",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tickets": {
      "name": "tickets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ticket_number": {
          "name": "ticket_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'general'"
        },
        "agency_id": {
          "name": "agency_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "page_url": {
          "name": "page_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "screenshot_url": {
          "name": "screenshot_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "console_logs": {
          "name": "console_logs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_details": {
          "name": "error_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "browser_info": {
          "name": "browser_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tickets_ticket_number": {
          "name": "idx_tickets_ticket_number",
          "columns": [
            {
              "expression": "ticket_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_status": {
          "name": "idx_tickets_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_priority": {
          "name": "idx_tickets_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_agency_id": {
          "name": "idx_tickets_agency_id",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_user_id": {
          "name": "idx_tickets_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_created_at": {
          "name": "idx_tickets_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tickets_agency_id_agencies_id_fk": {
          "name": "tickets_agency_id_agencies_id_fk",
          "tableFrom": "tickets",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tickets_user_id_users_id_fk": {
          "name": "tickets_user_id_users_id_fk",
          "tableFrom": "tickets",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "tickets_assigned_to_users_id_fk": {
          "name": "tickets_assigned_to_users_id_fk",
          "tableFrom": "tickets",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tickets_ticket_number_unique": {
          "name": "tickets_ticket_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "ticket_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.agency_status": {
      "name": "agency_status",
      "schema": "public",
      "values": [
        "active",
        "suspended",
        "cancelled",
        "pending"
      ]
    },
    "public.agency_tier": {
      "name": "agency_tier",
      "schema": "public",
      "values": [
        "trial",
        "starter",
        "basic",
        "professional",
        "enterprise",
        "custom"
      ]
    },
    "public.alert_severity": {
      "name": "alert_severity",
      "schema": "public",
      "values": [
        "info",
        "warning",
        "error",
        "critical"
      ]
    },
    "public.audit_action": {
      "name": "audit_action",
      "schema": "public",
      "values": [
        "create",
        "update",
        "delete",
        "login",
        "logout",
        "access",
        "export",
        "import"
      ]
    },
    "public.email_provider_type": {
      "name": "email_provider_type",
      "schema": "public",
      "values": [
        "smtp",
        "sendgrid",
        "mailgun",
        "aws_ses",
        "resend",
        "postmark"
      ]
    },
    "public.health_status": {
      "name": "health_status",
      "schema": "public",
      "values": [
        "healthy",
        "degraded",
        "down",
        "maintenance"
      ]
    },
    "public.log_level_type": {
      "name": "log_level_type",
      "schema": "public",
      "values": [
        "debug",
        "info",
        "warn",
        "error",
        "fatal"
      ]
    },
    "public.page_assignment_status": {
      "name": "page_assignment_status",
      "schema": "public",
      "values": [
        "active",
        "pending_approval",
        "suspended",
        "trial",
        "expired"
      ]
    },
    "public.page_category": {
      "name": "page_category",
      "schema": "public",
      "values": [
        "dashboard",
        "management",
        "finance",
        "hr",
        "projects",
        "reports",
        "personal",
        "settings",
        "system",
        "inventory",
        "procurement",
        "assets",
        "workflows",
        "automation",
        "compliance",
        "analytics"
      ]
    },
    "public.page_request_status": {
      "name": "page_request_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected",
        "cancelled"
      ]
    },
    "public.provisioning_job_status": {
      "name": "provisioning_job_status",
      "schema": "public",
      "values": [
        "pending",
        "validating",
        "creating_database",
        "seeding_data",
        "assigning_permissions",
        "completed",
        "failed",
        "cancelled",
        "timeout"
      ]
    },
    "public.storage_provider_type": {
      "name": "storage_provider_type",
      "schema": "public",
      "values": [
        "local",
        "aws_s3",
        "azure_blob",
        "gcp_storage",
        "digitalocean_spaces"
      ]
    },
    "public.twitter_card_type": {
      "name": "twitter_card_type",
      "schema": "public",
      "values": [
        "summary",
        "summary_large_image",
        "app",
        "player"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "super_admin",
        "agency_admin",
        "manager",
        "employee",
        "auditor",
        "viewer",
        "custom"
      ]
    },
    "public.user_status": {
      "name": "user_status",
      "schema": "public",
      "values": [
        "active",
        "inactive",
        "suspended",
        "locked"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}